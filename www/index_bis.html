
<!DOCTYPE html>
<html>

<head>
  <script src="shared/jquery.js" type="text/javascript"></script>
  <script src="shared/shiny.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="shared/shiny.css"/>
  <link rel="stylesheet" href="style-tabs.css">
  <link rel="stylesheet" href="style-dashboard.css">
  <link rel="stylesheet" href="style-part2.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  {{headContent()}}
</head>




<body>


  <div class="tabs_headers">
    <span data-tab-value="#dashboard">DashBoard</span>
  </div>


  <div class="tab-content-container">

    <div class="tabs-content active" id="dashboard" data-tab-info>
      
      
      <!--DASHBOARD KEY -->
      <div class="dashboard-key-container">
      
      
        <h2>L'ESS dans la région Grand Est</h2>
        {{dashboard_select_Input_YEARS_key}}
        
        
        <div class="dashboard-key-trio-container">
        
          <div class="dashboard-key" id="etab">
            <div class="dashboard-key-flex">
				<span> Nombre Etablissements</span>
             {{pieChart_etab}}
            </div>
          </div>

          <div class="dashboard-key" id="emploi">
            <div class="dashboard-key-flex">
				<span> Nombre  effectifs 31/12</span>
              {{pieChart_emploi}}
			</div>
          </div>

          <div class="dashboard-key" id="masse_salariale">
            <div class="dashboard-key-flex">
				<span> Nombre remunération brute</span>
              {{pieChart_rem}}
            </div>
          </div>

		  <!--End of the div dahsboard key trio container-->
		  
        </div>
		
		  <div class="dashboard-key-trio-container-bis">
			  <div class="dashboard-key" id="eff_EQTP">
					<div class="dashboard-key-flex">
						<span> Nombre eff EQTP</span>
						{{pieChart_effEQTP}}
					</div>
				</div>


				<div class="dashboard-key" id="entreprises">

					<div class="dashboard-key-flex">
						<span> Nombre entreprises</span>
						{{pieChart_ent}}
					</div>
				</div>

		  </div>

      </div>
    
	  <h4>L'ESS Grand Est face aux autres régions </h4> 
	  
	  <div class="dashboard-nb_etab-part">
		  <div id="dashboard-nb_etab-part-flex">


			  {{select_year_nb_etab}}
			<select  id="select_scale_nb_etab" class="select_box_custom">
				<option value="REG">Régionale</option>
				<option value="DEP">Départmentale</option>
				<option value="EPCI">EPCI</option>
			</select>
			<select  id="select_var_nb_etab" class="select_box_custom">
				<option value="nb_etab">Nombre Etablissements</option>
				<option value="eff_31">Nombre eff 31/12</option>
				<option value="eff_EQTP">Nombre Eff EQTP</option>
				<option value="nb_ent">Nombre  Entreprises</option>
				<option value="rem_brut">Remunérations brutes</option>
			</select>
			
			{{select_scale_det}}



		  

		  </div>
			<div id="flex-container-dashboard-p2">
			
				<div id="plot_dashboard_p2">
					{{plot_dashboard_part_2}}
				</div>
			</div>


	  </div>

			<div id="tabs-2-container-block">

				<div id="tabs-2-container-flex">
		
					<div id="part1-tabs2" class="tabs2-part">

						<span> Poid de l'ESS dans l'économie du grand-Est</span>
						<div id="select-boxes-tabs2-part1">


							{{select_year_tabs2_part1}}
							<select  id="select_scale_tabs2_part1" class="select_box_custom">
								<option value="REG">Régionale</option>
								<option value="DEP">Départmentale</option>
								<option value="EPCI">EPCI</option>
							</select>

							{{select_ESS_tabs2_part1}}
							{{select_scale_det_tabs2_part1}}
							<input type="checkbox" id="prct_part1">
							<label style="font-size:15px; font-weight:bold;" for="prct">Afficher en %</label>
						</div>
						<div id="div-plot-tabs2-part1_1">
							{{plot_tabs2_part1_1}}
						</div>
						
						<div id="div-plot-tabs2-part1_2">
							{{plot_tabs2_part1_2}}
						</div>
					</div>

					<div id="part2-tabs2" class="tabs2-part">
						<span> Les familles juridiques en région Grand-Est</span>
						<div id="select-boxes-tabs2-part2">


							{{select_year_tabs2_part2}}
							<select  id="select_scale_tabs2_part2" class="select_box_custom">
								<option value="REG">Régionale</option>
								<option value="DEP">Départmentale</option>
								<option value="EPCI">EPCI</option>
							</select>
							{{select_ESS_tabs2_part2}}
							{{select_scale_det_tabs2_part2}}
							<input type="checkbox" id="prct_part2">
							<label style="font-size:15px; font-weight:bold;" for="prct">Afficher en %</label>
						</div>
						<div id="div-plot-tabs2-part2_1">
							{{plot_tabs2_part2_1}}
						</div>
						
						<div id="div-plot-tabs2-part2_2">
							{{plot_tabs2_part2_2}}

						</div>
					</div>

					<div id="part3-tabs2" class="tabs2-part">

						<span> Taille des etablissement de l'ESS en région Grand-Est</span>
						<div id="select-boxes-tabs2-part3">


							{{select_year_tabs2_part3}}
							<select  id="select_scale_tabs2_part3" class="select_box_custom">
								<option value="REG">Régionale</option>
								<option value="DEP">Départementale</option>
							</select>
							{{select_ESS_tabs2_part3}}
							{{select_scale_det_tabs2_part3}}
							<input type="checkbox" id="prct_part3">
							<label style="font-size:15px; font-weight:bold;" for="prct">Afficher en %</label>
						</div>
						<div id="div-plot-tabs2-part3_1">

							{{plot_tabs2_part3_1}}
						</div>
						
						<div id="div-plot-tabs2-part3_2">

							{{plot_tabs2_part3_2}}
						</div>
					</div>
				</div>		
			</div>

    </div>
    
  </div>

  <!-- SCRIPT GLOBAL TABS DASHBOARD-GRAPHS-CAST   --->
  <script>
    const tabs = document.querySelectorAll('[data-tab-value]')
    console.log(tabs)
    const tabInfos = document.querySelectorAll('[data-tab-info]')
    console.log(tabInfos)
    tabs.forEach(tab => {
          tab.addEventListener('click', () => {
            
              const target = document
                  .querySelector(tab.dataset.tabValue);

              tabInfos.forEach(tabInfo => {
                  tabInfo.classList.remove('active')
                  
              })
              target.classList.add('active');
          })
    })
  </script>

  


</body>


</html>
