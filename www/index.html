<!DOCTYPE html>
<html>

<head>
  <script src="shared/jquery.js" type="text/javascript"></script>
  <script src="shared/shiny.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="shared/shiny.css"/>
  <link rel="stylesheet" href="styles/style-tabs.css">
  <link rel="stylesheet" href="styles/style-dashboard.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  {{headContent()}}
</head>




<body>


  <div class="tabs_headers">
    <span data-tab-value="#dashboard">DashBoard</span>
    <span data-tab-value="#graphs">Graphs</span>
    <span data-tab-value="#cast">cast</span>
  </div>


  <div class="tab-content-container">

    <div class="tabs-content active" id="dashboard" data-tab-info>
      
      
      <!--DASHBOARD KEY -->
      <div class="dashboard-key-container">
      
      
        <h2>L'ESS en quelques chiffres</h2>
        <div class="dashboard-key-trio-container">
        
          <div class="dashboard-key" id="etab">
            <span>
               <i class="fas fa-angle-right"></i> <span id="nb_etab_txt_FR" class="shiny-text-output"></span>
            </span>
            
            <span style="margin-left:10% ;">
               <i class="fas fa-angle-right"></i> <span id="nb_etab_txt_GE" class="shiny-text-output"></span>
            </span>
            
            {{pieChart_etab}}
          </div>

          <div class="dashboard-key" id="emploi">
            <span>  
              <i class="fas fa-angle-right"></i> <span id="emploi_txt_FR" class="shiny-text-output" ></span>
            </span>
            
            <span  style="margin-left:10% ;"> 
               <i class="fas fa-angle-right"></i> <span id="emploi_txt_GE" class="shiny-text-output"></span> 
            </span>
            {{pieChart_emploi}}
          </div>

          <div class="dashboard-key" id="masse_salariale">
            <span>  
              <i class="fas fa-angle-right"></i> <span id="masse_salariale_txt_FR" class="shiny-text-output" ></span>
            </span>
            
            <span  style="margin-left:10% ;"> 
               <i class="fas fa-angle-right"></i> <span id="masse_salariale_txt_GE" class="shiny-text-output"></span> 
            </span>

            {{pieChart_rem}}
          </div>
        </div>

      </div>
    
      
      <div class="reg-dep-EPCI-container">
        <h2> Futur tabs</h2>
        <p> Potentially with d3</p>
        <div id="plot" class="shiny-plot-output" style="width:100%;height: 300px"></div>

      </div>
    </div>
    

    <div class="tabs-content" id="graphs" data-tab-info>
        <p>Construct your graph</p>

    </div>
    <div class="tabs-content" id="cast" data-tab-info>
        <p>cast</p>

    </div>
  </div>


  <script>
    console.log("init\n")
    const tabs = document.querySelectorAll('[data-tab-value]')
    console.log(tabs)
    const tabInfos = document.querySelectorAll('[data-tab-info]')
    console.log(tabInfos)
    tabs.forEach(tab => {
          tab.addEventListener('click', () => {
            
              const target = document
                  .querySelector(tab.dataset.tabValue);

              tabInfos.forEach(tabInfo => {
                  tabInfo.classList.remove('active')
                  
              })
              target.classList.add('active');
          })
    })
  </script>

  


</body>


</html>